2022.5.7
1.写完了fitnessCal函数，但是fitness是用最后的总能耗代替的，没有使用电镀电费和需量电费来计算
2.怎么解决发车间隔、停站时间、子区间时间分配的约束；
3.现有的单车优化结果是基于空间域反算的时间域，然后用插值补全每个时间步长上的值；
4.单车的优化结果受再生制动利用率这个参数的影响，而这个参数既影响单车优化又影响多车优化，所以怎么确定此参数是个问题
询问晓文师兄：在程序的最外层写一个迭代来确定此参数：首先先使用一个再生制动利用率加上区间运行时间得到单车优化的结果，然后把此单车优化的结果放进多车优化的程序中得到真实的最终能耗和真实的再生制动利用率
，然后把此真实的再生制动利用放进单车优化程序，得到结果，然后重复上述步骤，到能耗最低的时候退出迭代（并且可以看看这时候是否输入的单车再生制动利用率刚好等于整个系统真实的再生制动利用率）
5.同一供电区段再生制动利用也有损耗，且受距离影响，代码需要将这个也考虑进来

2022.5.9
1. 需要上下行一起优化
2.需要加前后车距离的罚函数来确保优化后的结果里前后车不会相撞

2022.5.16
1. fitnesscalc函数计算太慢（120*2辆车4秒）
2. 是否应该在所有时刻都加上辅助功率，也就是说将制动功率供给辅助功率使用（如果加上的话，中间停站时间是否需要加）
3. 撞车、距离损耗问题仍未解决

2022.5.26
遇到的问题
1. 传统PSO非常容易陷入局部最优，并且完全丧失跳出局部最优的能力
2. 将传统PSO修改为CSO(Competitive Swarm Optimization) 竞争群优化算法后，虽然算法不会很快陷入局部最优，但是由于粒子只向每次和他竞争的那个粒子学习，因此进化速度特别慢
3. 如何跳出局部最优，或者说保留种群跳出局部最优的能力？？

2022.5.27
孙老师建议
1.将停站时间这部分变量与发车时间和区间运行时间进行绑定，根据发车间隔和区间运行时间得到列车到达每个车站的时间，然后根据客流量与时间的关系曲线或者客流累速率与时间的分布关系得到设计每列车在该时刻到达该车站应该停站多久
,这样既降低了维度又比较有实际意义


2022.5.29
仍存在的问题
1. 安全距离间隔处理的不好，目前辆车的移动闭塞距离是以发车序列后一辆的车的速度加上此速度下的最大制动距离用v2-0=2ax算的，但是问题是当在车站发生越线行驶的时间，发车序列为后的那辆车在前面，
这个时候是应该用发车序列为前的那辆车的速度。所以在计算移动闭塞之前，应该对整个时间-车次距离矩阵的每一列做一个排序，然后用此顺序对时间-车次-速度矩阵做同样的排序，然后再进行移动闭塞的计算
2. 算法收敛速度太慢，而且鲁棒性太差
3. 时刻表优化模型的再生制动能量利用相关计算的部分未考虑再生制动能量的利用会线路传输距离损耗
4. 没考虑辅助功率，在列车的行驶过程中加上辅助功率那么列车停车的时候也能接收来自其他车的

2022.6.4
5.29的1、4已经解决

2022.6.5 
1.5.29的2已经解决——使用中心-离散学习的粒子群算法
2.需要将目标函数替换为电费
